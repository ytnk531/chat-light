<p id="notice"><%= notice %></p>
<div class="flex">
  <nav class="w-60 px-4 py-3 h-screen flex flex-col">
    <div class="overflow-auto">
      <h2 class="font-bold font-semibold">参加者</h2>
      <div id="users" class="mt-4 space-y-2">
        <%= render @chat_room.users %>
      </div>
    </div>
    <div class="mt-4">
      <%= link_to "他の部屋に行く", "#", class: "font-bold text-blue-600" %>
    </div>
  </nav>
  <main class="w-full flex flex-col h-screen" data-controller="messages">
    <div
      data-action="turbo:frame-render->messages#scroll" class="overflow-auto pb-20 px-4"
      id="messageContainer"
    >
      <turbo-frame id="messages" class="space-y-6" >
        <%= render @messages%>
      </turbo-frame>
    </div>
    <div class="py-4">
      <%= render 'messages/form', message: @message, form_options: { data: { 'turbo-frame': 'messages' } } %>
    </div>
  </main>
</div>
